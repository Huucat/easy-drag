/**!
* EasyDrag
* @version 0.8.5
* @author Huucat <https://github.com/Huucat>
* @license MIT
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).easyDrag=t()}(this,(function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)};return"function"==typeof SuppressedError&&SuppressedError,function(t,n){var r=t,o=null,i=null,a={time:200},l={x:0,y:0};if(!(t instanceof HTMLElement))throw new Error("Error in parameter 1: Please provide an Element");function f(e){var t=e.target;if(t!==r){for(;t&&t.parentElement&&"true"!==t.getAttribute("draggable");)t=t.parentElement;e.dataTransfer&&t&&(e.dataTransfer.setData("content",t.innerText),e.dataTransfer.effectAllowed="move"),o=t}}function s(e){e.preventDefault();var t=e.target;if(r.contains(o)&&r.contains(t)&&r!==t){for(;t&&t.parentElement&&t.parentElement!==r&&t!==r;)t=t.parentElement;o!==t&&"true"!==(null==t?void 0:t.getAttribute("move"))&&m(t)}}function u(e){e.preventDefault(),o=null}function c(e){var t=e.touches[0].target;if(t!==r){for(;"true"!==t.getAttribute("draggable")&&t.parentElement;)t=t.parentElement;o=t,(i=t.cloneNode(!0)).removeAttribute("style"),function(e){if(!o||!i)return;l.x=e.touches[0].clientX-o.offsetLeft,l.y=e.touches[0].clientY-o.offsetTop,i.style.position="absolute",i.style.zIndex="10000",i.style.pointerEvents="none",i.style.opacity="0.5",i.style.left=o.offsetLeft+"px",i.style.top=o.offsetTop+"px",r.appendChild(i)}(e)}}function d(e){if(e.preventDefault(),i){var t=e.touches[0],n=t.clientX,a=t.clientY;i.style.left=n-l.x+"px",i.style.top=a-l.y+"px",i.offsetLeft;var f=document.elementFromPoint(n,a);if(r.contains(o)&&r.contains(f)&&r!==f){for(;f&&f.parentElement&&f.parentElement!==r&&f!==r;)f=f.parentElement;o!==f&&"true"!==f.getAttribute("move")&&m(f)}}}function p(){o=null,i&&(i.remove(),i=null,l.x=0,l.y=0)}function m(e){if(o){var t=Math.min(y(o),y(e)),n=Math.max(y(o),y(e))+1,i=Array.from(r.children).slice(t,n).map((function(e){return{element:e,rect:e.getBoundingClientRect()}}));y(o)<y(e)?r.insertBefore(o,e.nextSibling):r.insertBefore(o,e),a.time>0&&function(e,t,n){Array.from(r.children).slice(t,n).forEach((function(t){var n=t,r=n.getBoundingClientRect(),i=e.find((function(e){return n===e.element}));i&&(n===o&&(n.style.zIndex="1"),n.style.transition="none",n.style.transform="translate3d("+(i.rect.left-r.left)+"px,"+(i.rect.top-r.top)+"px,0)",n.offsetWidth,n.style.transition="all ".concat(a.time,"ms ease"),n.style.transform="translate3d(0, 0, 0)",n.setAttribute("move","true"),n.addEventListener("transitionend",v))}))}(i,t,n)}}function v(e){var t=e.target;t&&(t.removeAttribute("move"),t.removeAttribute("style"),t.removeEventListener("transitionend",v))}function y(e){return e?Array.from(r.children).indexOf(e):-1}r=t,"object"==typeof n&&null!==n&&n.constructor===Object&&(a=e(e({},a),n)),Array.from(r.children).forEach((function(e){e.setAttribute("draggable","true")})),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(r.addEventListener("touchstart",c,{passive:!1}),r.addEventListener("touchmove",d,{passive:!1}),r.addEventListener("touchend",p)):(r.addEventListener("dragstart",f),r.addEventListener("dragenter",s),r.addEventListener("dragend",u))}}));
